title: 新浪微博位置信息抽取
date: 2015-01-29 14:19:46
tags: [微博, 信息抽取]
---
#### 描述
2014年开始发微博基本都带位置信息，这里记录一些抽取思路。
#### 类别
以下例子取自新浪微博，如不妥即删。
1. <u>结尾</u>处“我在:**位置url**”
> 看谌龙打球太生气。。。。虽然赢了吧。。。。 我在:http://t.cn/zWtilMK
1. <u>开头</u>处“我在这里: #**位置**#”
> 我在这里: #Google# Google真爽啊 吃饭免费 哈哈 http://t.cn/zOPPcAR
1. <u>开头</u>处“我在**位置**(签到x次): ”，其中签到部分可选
> 我在正斗粥面专家(机场店)(签到1次)：吃了烧鹅饭，没饱  http://t.cn/akb2fI
1. <u>结尾</u>处“我在#**位置**# url”
> 等领导开会..开会就要等好久[泪]在隔壁办公室等会儿 我在#沈阳奥林匹克体育中心# http://t.cn/zOgJMtw

#### 地点名
* 使用正则表达式解析上述情况，记录位置名称
* 对只有url的，访问原url，中间小地图地址包含经纬度信息，lon和lat就是经纬度。
> http://api.place.weibo.cn/XYMapcreate.php?lon=116.401871&lat=39.940853
* 访问[SPG经纬度查询](http://www.gpsspg.com/maps.htm)，查询相应经纬度即可得到名称。这里好处在于可以得到**参考名称**而不是**最接近名称**。
* 分析上述过程，得到api形式，返回json格式如下
> http://www.gpsspg.com/ajax/maps_get.aspx?lat=39.940853&lng=116.401871&type=0
![](http://7u2qpd.com1.z0.glb.clouddn.com/2dd048bfc45d1881daecc97f04964e04813242c8-8334b80dd63785b93d3a232031b22320b2c59e4c.png)

#### 服务类型
尚未解决
